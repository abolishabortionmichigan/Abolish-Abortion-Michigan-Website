COMPREHENSIVE PENETRATION TEST & SITE REVIEW
==============================================

You are performing a full-spectrum security penetration test and quality review of a live website.
Do NOT hold back. Try everything. Your goal is to find every weakness, break every assumption,
and test every boundary. Grade the site honestly and harshly — don't sugarcoat anything.

SITE DETAILS:
- Live URL: https://abolish-abortion-michigan-website.vercel.app
- GitHub repo: https://github.com/abolishabortionmichigan/Abolish-Abortion-Michigan-Website
- Stack: Next.js 16, React 19, Prisma (Neon PostgreSQL), Tailwind CSS 4, TypeScript
- Admin gate: /manage-7x9k (access code gate -> email/password login -> /admin/dashboard)

==============================================
PHASE 1: SECURITY PENETRATION TESTING
==============================================

Try HARD to break into the admin panel. Do not give up easily. Try every angle:

1. AUTHENTICATION ATTACKS:
   - Try to access /admin/dashboard directly (bypass the gate)
   - Try common admin URLs: /admin, /api/admin, /dashboard, /login, /wp-admin, etc.
   - Try to brute force the access code on /manage-7x9k (try: admin, password, 1234, abolish, michigan, aam, access, letmein, secret, manage, admin123, etc.)
   - Try SQL injection in the access code field: ' OR '1'='1, admin'--, " OR ""=", 1; DROP TABLE users--, etc.
   - Try the login form with common credentials: admin@admin.com, admin/password, test@test.com, admin@abolishabortionmichigan.com
   - Try SQL injection in email/password fields
   - Try XSS in login fields: <script>alert(1)</script>, javascript:alert(1)
   - Check if there's rate limiting — submit 10+ wrong passwords rapidly and note if you get blocked
   - Check if error messages reveal whether an email exists vs wrong password (should be generic)
   - Try NoSQL injection: {"$gt": ""}, {"$ne": null}
   - Try to access the login page without the access code first
   - Check if the access code is stored in cookies/localStorage after entry

2. API ENDPOINT ATTACKS:
   - Hit /api/auth/verify without a token - what does it return?
   - Hit /api/auth/logout
   - Try POST /api/inquiries with malicious payloads (XSS in name/email/message fields)
   - Try POST /api/news without auth — can you create articles without being admin?
   - Try PATCH /api/news/any-slug without auth
   - Try DELETE /api/inquiries/any-id without auth
   - Try /api/dashboard/stats without auth — does it leak data?
   - Try accessing API routes with forged Origin headers (use a different domain)
   - Send oversized payloads (very long strings in message fields, 100KB+)
   - Send unexpected content types (text/plain instead of application/json)
   - Try path traversal in API params: /api/news/../../etc/passwd, /api/news/..%2F..%2Fetc%2Fpasswd
   - Try to enumerate valid article slugs or inquiry IDs
   - Try hitting /api/auth/login (this route was deleted — verify it returns 404)
   - Try POST /api/unsubscribe without valid token
   - Try GET /api/unsubscribe with fake email/token params

3. COOKIE & SESSION ATTACKS:
   - Check what cookies are set and their flags (HttpOnly, Secure, SameSite)
   - Check if JWT tokens are in cookies or localStorage
   - Try forging/modifying JWT tokens if you can see their structure
   - Check if tokens expire properly
   - Try session fixation
   - Check if logging out actually invalidates the session

4. INPUT VALIDATION:
   - Submit the contact form (/contact) with XSS payloads in EVERY field
   - Submit the petition form with: very long names (1000+ chars), special characters, HTML injection
   - Try to sign the petition with the same email twice — what happens? Does it reveal the email exists?
   - Submit empty forms and verify validation
   - Submit with invalid emails, spaces in email, unicode in email
   - Test the newsletter signup in the footer with malicious inputs
   - Test the data deletion request form (/delete-my-data)
   - Try CSRF: can you submit forms from a different origin?

5. INFORMATION DISCLOSURE:
   - Check all HTTP response headers for server info leakage
   - Check if source maps are exposed (try /static/js/*.map or /_next/static/*.map)
   - Check /robots.txt and /sitemap.xml for sensitive paths
   - Check if any config files are accessible: /.env, /.git, /next.config.js, /package.json, /prisma/schema.prisma
   - Check error pages — do 404s or 500s leak stack traces?
   - Look at JavaScript bundles in the browser dev tools for hardcoded secrets/API keys
   - Check the GitHub repo commit history for accidentally committed secrets
   - Check if /feed.xml reveals anything sensitive
   - Try to access /api routes that shouldn't exist and see what error format returns

==============================================
PHASE 2: FULL FUNCTIONAL TESTING
==============================================

Test every user-facing feature thoroughly:

1. NAVIGATION & ROUTING:
   - Click every link in the header navigation and all dropdown items
   - Click every link in the footer
   - Open the mobile hamburger menu and click every link
   - Test all dropdown menus open/close properly
   - Visit every page listed in the sitemap.xml
   - Try invalid URLs like /this-does-not-exist — does the 404 page work properly?
   - Test back/forward browser navigation
   - Test deep linking (copy a URL, open in new tab)
   - Check the breadcrumb navigation on sub-pages

2. PETITION FORM (/the-petition):
   - Fill out and submit with valid data (use a test email like test@example.com)
   - Try submitting without required fields
   - Try submitting with invalid email
   - Try duplicate submission (same email)
   - Check the confirmation step works (should show review before final submit)
   - Verify the newsletter opt-in checkbox works
   - Check the signature counter updates
   - Test on mobile viewport

3. CONTACT FORM (/contact):
   - Submit with valid data
   - Try XSS in every field
   - Try submitting empty
   - Check if honeypot fields are hidden (they should be invisible)
   - Verify success/error messages display correctly
   - Try submitting rapidly multiple times

4. NEWS SECTION (/news):
   - Browse the news listing page
   - Click into individual articles
   - Check if share buttons work on article pages
   - Check article images load
   - Test the RSS feed (/feed.xml) — is it valid XML?
   - Check Open Graph meta tags on article pages (og:title, og:description, og:image)
   - Check the OG image route works (/news/[slug]/opengraph-image)

5. MEDIA GALLERY (/media):
   - Check all images load
   - Test on mobile
   - Check image layout at different viewport sizes

6. ALL CONTENT PAGES — visit EVERY one:
   - / (homepage — check hero, about section, news cards, petition CTA)
   - /who-we-are
   - /what-we-believe and ALL sub-pages: abolitionist-not-pro-life, biblical-not-secular, immediate-not-gradual, no-exceptions, ignore-roe, criminalization
   - /the-gospel and ALL sub-pages: gospel, kingdom-of-god, great-commission, message-of-reconciliation, answer-to-abortion, incarnation
   - /abolition-bills and sub-pages: components, current-bills
   - /faq (check accordion/expandable sections)
   - /donate
   - /privacy-policy
   - /non-violence-statement
   - /delete-my-data
   - Check breadcrumbs appear and work on each sub-page
   - Check all external links open in new tabs with rel="noopener noreferrer"
   - Check YouTube embeds load and are playable

7. NEWSLETTER SIGNUP (footer):
   - Test on multiple pages
   - Submit with valid email
   - Submit with invalid email
   - Try duplicate subscription

8. UNSUBSCRIBE FLOW:
   - Visit /unsubscribe without any parameters — what happens?
   - Visit /unsubscribe?email=fake@test.com&token=faketoken — what happens?
   - Check the error/invalid states

==============================================
PHASE 3: PERFORMANCE & SEO
==============================================

1. Run Lighthouse audit on the homepage (Performance, Accessibility, Best Practices, SEO)
2. Check mobile responsiveness on every page (resize browser or use device emulation)
3. Check Core Web Vitals (LCP, FID/INP, CLS)
4. Verify JSON-LD structured data renders correctly:
   - Organization schema on homepage
   - FAQPage schema on /faq
   - BreadcrumbList schema on sub-pages
   - NewsArticle schema on individual news articles (if present)
5. Check meta descriptions exist on all pages
6. Check Open Graph tags on homepage, news articles, and key pages
7. Check canonical URLs are correct
8. Verify robots.txt blocks nothing important and allows crawling
9. Verify sitemap.xml lists all public pages
10. Check for broken links across the entire site
11. Check image optimization — are images using next/image, WebP, proper sizing?
12. Check if pages are using ISR/static generation where appropriate

==============================================
PHASE 4: ACCESSIBILITY TESTING (WCAG 2.1 AA)
==============================================

1. Tab through the ENTIRE homepage with keyboard only — is focus order logical?
2. Check the skip-to-content link exists and works
3. Check color contrast on ALL text (especially red on dark backgrounds, gray text)
4. Check all images have meaningful alt text
5. Check all form inputs have associated labels (visible or aria-label)
6. Check form error messages are associated with fields (aria-describedby)
7. Test keyboard navigation in the mobile menu (focus trap should keep focus inside)
8. Check heading hierarchy on every page (h1 -> h2 -> h3, no skips)
9. Check mobile touch targets are at least 44x44px
10. Check that modal dialogs trap focus and can be closed with Escape
11. Check ARIA landmarks (main, nav, footer, etc.)
12. Check that decorative images have empty alt=""
13. Test the FAQ accordion with keyboard — can you expand/collapse with Enter/Space?

==============================================
PHASE 5: COMPREHENSIVE REPORT
==============================================

Write a detailed report grading each category A through F:

1. **SECURITY** (weight: 30%)
   - Authentication & Authorization
   - Input Validation & Sanitization
   - API Security
   - Session Management
   - Information Disclosure
   - CSRF/XSS Protection
   - Rate Limiting
   - List every vulnerability found with severity: Critical / High / Medium / Low / Info

2. **FUNCTIONALITY** (weight: 15%)
   - All features work as expected
   - Error handling and user feedback
   - Edge cases handled
   - Form validation (client + server)
   - Mobile functionality

3. **PERFORMANCE** (weight: 10%)
   - Lighthouse Performance score
   - Page load times
   - Image optimization
   - Core Web Vitals
   - Caching strategy

4. **SEO** (weight: 10%)
   - Meta tags (title, description)
   - Structured data (JSON-LD)
   - Sitemap & robots.txt
   - Open Graph tags
   - URL structure
   - RSS feed

5. **ACCESSIBILITY** (weight: 15%)
   - WCAG 2.1 AA compliance
   - Keyboard navigation
   - Screen reader support
   - Color contrast
   - Focus management
   - Form accessibility

6. **CODE QUALITY** (weight: 10%) — review the GitHub repo
   - TypeScript strictness
   - Component architecture
   - Error handling patterns
   - Security patterns in code
   - Dependencies and maintenance
   - Any code smells or anti-patterns

7. **UX & DESIGN** (weight: 10%)
   - Visual consistency
   - Mobile responsiveness
   - Navigation clarity
   - Content readability
   - User flows (petition, contact, unsubscribe)
   - Empty states, loading states, error states

8. **OVERALL GRADE** (weighted)
   - Calculate from the above weights
   - Top 5 strengths
   - Top 5 weaknesses
   - Critical issues requiring immediate attention (if any)
   - Is this site production-ready?

Be brutal. Be thorough. Do not skip any test. If you find a way in, document exactly how.
If you find a vulnerability, rate its severity and provide exact reproduction steps.
Do NOT sugarcoat — honest assessment only.
